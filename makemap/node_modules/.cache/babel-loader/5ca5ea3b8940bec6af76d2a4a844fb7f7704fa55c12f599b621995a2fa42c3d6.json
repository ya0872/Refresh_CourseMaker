{"ast":null,"code":"var _jsxFileName = \"/home/reina/pd2/Refresh_CourseMaker/makemap/src/components/GMap.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function GMap({\n  center = {\n    lat: 35.681236,\n    lng: 139.767125\n  },\n  zoom = 15,\n  path = [],\n  onAddPoint,\n  onDistance\n}) {\n  _s();\n  const mapEl = useRef(null);\n  const mapRef = useRef(null);\n  const polyRef = useRef(null);\n  useEffect(() => {\n    var _window$google;\n    if (!((_window$google = window.google) !== null && _window$google !== void 0 && _window$google.maps)) return;\n    const google = window.google;\n    const map = new google.maps.Map(mapEl.current, {\n      center,\n      zoom,\n      mapTypeControl: false,\n      streetViewControl: false,\n      fullscreenControl: false\n    });\n    const poly = new google.maps.Polyline({\n      path,\n      map,\n      strokeColor: '#1976d2',\n      strokeWeight: 4\n    });\n    map.addListener('click', e => onAddPoint === null || onAddPoint === void 0 ? void 0 : onAddPoint({\n      lat: e.latLng.lat(),\n      lng: e.latLng.lng()\n    }));\n    mapRef.current = map;\n    polyRef.current = poly;\n  }, []);\n  useEffect(() => {\n    var _window$google2;\n    if (!polyRef.current || !((_window$google2 = window.google) !== null && _window$google2 !== void 0 && _window$google2.maps)) return;\n    const google = window.google;\n    polyRef.current.setPath(path);\n    if (onDistance && path.length > 1 && google.maps.geometry) {\n      const m = google.maps.geometry.spherical.computeLength(polyRef.current.getPath());\n      onDistance(Math.round(m));\n    }\n    if (mapRef.current && path.length > 1) {\n      const b = new google.maps.LatLngBounds();\n      path.forEach(p => b.extend(p));\n      mapRef.current.fitBounds(b, 48);\n    }\n  }, [path, onDistance]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: mapEl,\n    style: {\n      width: '100%',\n      height: 360,\n      borderRadius: 12,\n      overflow: 'hidden'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 10\n  }, this);\n}\n_s(GMap, \"Td3agRHnZCIE1fQu5aGguFFkIV4=\");\n_c = GMap;\nvar _c;\n$RefreshReg$(_c, \"GMap\");","map":{"version":3,"names":["React","useEffect","useRef","jsxDEV","_jsxDEV","GMap","center","lat","lng","zoom","path","onAddPoint","onDistance","_s","mapEl","mapRef","polyRef","_window$google","window","google","maps","map","Map","current","mapTypeControl","streetViewControl","fullscreenControl","poly","Polyline","strokeColor","strokeWeight","addListener","e","latLng","_window$google2","setPath","length","geometry","m","spherical","computeLength","getPath","Math","round","b","LatLngBounds","forEach","p","extend","fitBounds","ref","style","width","height","borderRadius","overflow","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/reina/pd2/Refresh_CourseMaker/makemap/src/components/GMap.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nexport default function GMap({ center = { lat: 35.681236, lng: 139.767125 }, zoom = 15, path = [], onAddPoint, onDistance }){\n  const mapEl = useRef(null); const mapRef = useRef(null); const polyRef = useRef(null);\n  useEffect(()=>{\n    if(!window.google?.maps) return;\n    const google = window.google;\n    const map = new google.maps.Map(mapEl.current,{ center, zoom, mapTypeControl:false, streetViewControl:false, fullscreenControl:false });\n    const poly = new google.maps.Polyline({ path, map, strokeColor:'#1976d2', strokeWeight:4 });\n    map.addListener('click', (e)=> onAddPoint?.({ lat:e.latLng.lat(), lng:e.latLng.lng() }));\n    mapRef.current = map; polyRef.current = poly;\n  },[]);\n  useEffect(()=>{\n    if(!polyRef.current || !window.google?.maps) return;\n    const google = window.google;\n    polyRef.current.setPath(path);\n    if(onDistance && path.length>1 && google.maps.geometry){\n      const m = google.maps.geometry.spherical.computeLength(polyRef.current.getPath());\n      onDistance(Math.round(m));\n    }\n    if(mapRef.current && path.length>1){\n      const b = new google.maps.LatLngBounds(); path.forEach(p=>b.extend(p)); mapRef.current.fitBounds(b,48);\n    }\n  },[path,onDistance]);\n  return <div ref={mapEl} style={{ width:'100%', height:360, borderRadius:12, overflow:'hidden' }} />;\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AACjD,eAAe,SAASC,IAAIA,CAAC;EAAEC,MAAM,GAAG;IAAEC,GAAG,EAAE,SAAS;IAAEC,GAAG,EAAE;EAAW,CAAC;EAAEC,IAAI,GAAG,EAAE;EAAEC,IAAI,GAAG,EAAE;EAAEC,UAAU;EAAEC;AAAW,CAAC,EAAC;EAAAC,EAAA;EAC1H,MAAMC,KAAK,GAAGZ,MAAM,CAAC,IAAI,CAAC;EAAE,MAAMa,MAAM,GAAGb,MAAM,CAAC,IAAI,CAAC;EAAE,MAAMc,OAAO,GAAGd,MAAM,CAAC,IAAI,CAAC;EACrFD,SAAS,CAAC,MAAI;IAAA,IAAAgB,cAAA;IACZ,IAAG,GAAAA,cAAA,GAACC,MAAM,CAACC,MAAM,cAAAF,cAAA,eAAbA,cAAA,CAAeG,IAAI,GAAE;IACzB,MAAMD,MAAM,GAAGD,MAAM,CAACC,MAAM;IAC5B,MAAME,GAAG,GAAG,IAAIF,MAAM,CAACC,IAAI,CAACE,GAAG,CAACR,KAAK,CAACS,OAAO,EAAC;MAAEjB,MAAM;MAAEG,IAAI;MAAEe,cAAc,EAAC,KAAK;MAAEC,iBAAiB,EAAC,KAAK;MAAEC,iBAAiB,EAAC;IAAM,CAAC,CAAC;IACvI,MAAMC,IAAI,GAAG,IAAIR,MAAM,CAACC,IAAI,CAACQ,QAAQ,CAAC;MAAElB,IAAI;MAAEW,GAAG;MAAEQ,WAAW,EAAC,SAAS;MAAEC,YAAY,EAAC;IAAE,CAAC,CAAC;IAC3FT,GAAG,CAACU,WAAW,CAAC,OAAO,EAAGC,CAAC,IAAIrB,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAG;MAAEJ,GAAG,EAACyB,CAAC,CAACC,MAAM,CAAC1B,GAAG,CAAC,CAAC;MAAEC,GAAG,EAACwB,CAAC,CAACC,MAAM,CAACzB,GAAG,CAAC;IAAE,CAAC,CAAC,CAAC;IACxFO,MAAM,CAACQ,OAAO,GAAGF,GAAG;IAAEL,OAAO,CAACO,OAAO,GAAGI,IAAI;EAC9C,CAAC,EAAC,EAAE,CAAC;EACL1B,SAAS,CAAC,MAAI;IAAA,IAAAiC,eAAA;IACZ,IAAG,CAAClB,OAAO,CAACO,OAAO,IAAI,GAAAW,eAAA,GAAChB,MAAM,CAACC,MAAM,cAAAe,eAAA,eAAbA,eAAA,CAAed,IAAI,GAAE;IAC7C,MAAMD,MAAM,GAAGD,MAAM,CAACC,MAAM;IAC5BH,OAAO,CAACO,OAAO,CAACY,OAAO,CAACzB,IAAI,CAAC;IAC7B,IAAGE,UAAU,IAAIF,IAAI,CAAC0B,MAAM,GAAC,CAAC,IAAIjB,MAAM,CAACC,IAAI,CAACiB,QAAQ,EAAC;MACrD,MAAMC,CAAC,GAAGnB,MAAM,CAACC,IAAI,CAACiB,QAAQ,CAACE,SAAS,CAACC,aAAa,CAACxB,OAAO,CAACO,OAAO,CAACkB,OAAO,CAAC,CAAC,CAAC;MACjF7B,UAAU,CAAC8B,IAAI,CAACC,KAAK,CAACL,CAAC,CAAC,CAAC;IAC3B;IACA,IAAGvB,MAAM,CAACQ,OAAO,IAAIb,IAAI,CAAC0B,MAAM,GAAC,CAAC,EAAC;MACjC,MAAMQ,CAAC,GAAG,IAAIzB,MAAM,CAACC,IAAI,CAACyB,YAAY,CAAC,CAAC;MAAEnC,IAAI,CAACoC,OAAO,CAACC,CAAC,IAAEH,CAAC,CAACI,MAAM,CAACD,CAAC,CAAC,CAAC;MAAEhC,MAAM,CAACQ,OAAO,CAAC0B,SAAS,CAACL,CAAC,EAAC,EAAE,CAAC;IACxG;EACF,CAAC,EAAC,CAAClC,IAAI,EAACE,UAAU,CAAC,CAAC;EACpB,oBAAOR,OAAA;IAAK8C,GAAG,EAAEpC,KAAM;IAACqC,KAAK,EAAE;MAAEC,KAAK,EAAC,MAAM;MAAEC,MAAM,EAAC,GAAG;MAAEC,YAAY,EAAC,EAAE;MAAEC,QAAQ,EAAC;IAAS;EAAE;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACrG;AAAC9C,EAAA,CAvBuBR,IAAI;AAAAuD,EAAA,GAAJvD,IAAI;AAAA,IAAAuD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}