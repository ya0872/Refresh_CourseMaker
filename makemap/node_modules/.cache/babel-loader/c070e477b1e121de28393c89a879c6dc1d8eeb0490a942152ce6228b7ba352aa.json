{"ast":null,"code":"var _jsxFileName = \"/home/reina/pd2/makemap/src/pages/MapCreateWalk.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MapCreateWalk({\n  draft,\n  setDraft,\n  onBack,\n  onFinish\n}) {\n  _s();\n  const [tracking, setTracking] = useState(false);\n  const start = () => setTracking(true);\n  const stop = () => setTracking(false);\n  const addPhoto = files => {\n    const arr = Array.from(files || []);\n    const next = arr.map(f => ({\n      type: 'file',\n      file: f,\n      url: URL.createObjectURL(f)\n    }));\n    setDraft(d => ({\n      ...d,\n      images: [...d.images, ...next]\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u30DE\\u30C3\\u30D7\\u4F5C\\u6210\\u753B\\u9762\\uFF08\\u6B69\\u884C\\u30E2\\u30FC\\u30C9\\uFF09\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"hint\",\n      children: \"\\u203B \\u73FE\\u5728\\u5730\\u8FFD\\u8DE1\\u306F\\u30D5\\u30EC\\u30FC\\u30E0\\u306E\\u307F\\uFF08\\u6E2C\\u4F4D\\u30FB\\u30EB\\u30FC\\u30C8\\u8A18\\u9332\\u306F\\u672A\\u5B9F\\u88C5\\uFF09\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"walk\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"badge\",\n        children: \"\\u73FE\\u5728\\u5730\\u8FFD\\u8DE1\\u30D5\\u30EC\\u30FC\\u30E0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"statechip\",\n        children: [\"\\u72B6\\u614B: \", tracking ? '記録中' : '停止中']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      style: {\n        marginTop: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        onClick: start,\n        disabled: tracking,\n        children: \"\\u958B\\u59CB\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        onClick: stop,\n        disabled: !tracking,\n        children: \"\\u505C\\u6B62\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          marginLeft: 'auto'\n        },\n        children: [\"\\u64AE\\u5F71\\uFF08\\u753B\\u50CF\\u8FFD\\u52A0\\uFF09\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"image/*\",\n          multiple: true,\n          onChange: e => addPhoto(e.target.files),\n          style: {\n            display: 'block',\n            marginTop: 6\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"preview\",\n      children: draft.images.map((img, i) => /*#__PURE__*/_jsxDEV(\"img\", {\n        src: img.url || img,\n        alt: \"preview\"\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 40\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      style: {\n        marginTop: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        onClick: onBack,\n        children: \"\\u623B\\u308B\\uFF08\\u30E2\\u30FC\\u30C9\\u9078\\u629E\\uFF09\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn primary\",\n        onClick: onFinish,\n        children: \"\\u30B3\\u30FC\\u30B9\\u4F5C\\u6210\\u7D42\\u4E86\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 5\n  }, this);\n}\n_s(MapCreateWalk, \"B/dXxF539r/wrDhOaMrvrHcEKf4=\");\n_c = MapCreateWalk;\nvar _c;\n$RefreshReg$(_c, \"MapCreateWalk\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","MapCreateWalk","draft","setDraft","onBack","onFinish","_s","tracking","setTracking","start","stop","addPhoto","files","arr","Array","from","next","map","f","type","file","url","URL","createObjectURL","d","images","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","onClick","disabled","marginLeft","accept","multiple","onChange","e","target","display","img","i","src","alt","_c","$RefreshReg$"],"sources":["/home/reina/pd2/makemap/src/pages/MapCreateWalk.js"],"sourcesContent":["import React, { useState } from 'react';\n\nexport default function MapCreateWalk({ draft, setDraft, onBack, onFinish }) {\n  const [tracking, setTracking] = useState(false);\n  const start = () => setTracking(true);\n  const stop  = () => setTracking(false);\n\n  const addPhoto = (files) => {\n    const arr = Array.from(files || []);\n    const next = arr.map(f => ({ type:'file', file:f, url:URL.createObjectURL(f) }));\n    setDraft(d => ({ ...d, images: [...d.images, ...next] }));\n  };\n\n  return (\n    <section className=\"card\">\n      <h2>マップ作成画面（歩行モード）</h2>\n      <div className=\"hint\">※ 現在地追跡はフレームのみ（測位・ルート記録は未実装）</div>\n      <div className=\"walk\">\n        <div className=\"badge\">現在地追跡フレーム</div>\n        <div className=\"statechip\">状態: {tracking ? '記録中' : '停止中'}</div>\n      </div>\n      <div className=\"row\" style={{ marginTop: 12 }}>\n        <button className=\"btn\" onClick={start} disabled={tracking}>開始</button>\n        <button className=\"btn\" onClick={stop}  disabled={!tracking}>停止</button>\n        <label style={{ marginLeft: 'auto' }}>\n          撮影（画像追加）\n          <input type=\"file\" accept=\"image/*\" multiple\n            onChange={(e) => addPhoto(e.target.files)} style={{ display: 'block', marginTop: 6 }} />\n        </label>\n      </div>\n      <div className=\"preview\">\n        {draft.images.map((img, i) => (<img key={i} src={img.url || img} alt=\"preview\" />))}\n      </div>\n      <div className=\"row\" style={{ marginTop: 16 }}>\n        <button className=\"btn\" onClick={onBack}>戻る（モード選択）</button>\n        <button className=\"btn primary\" onClick={onFinish}>コース作成終了</button>\n      </div>\n    </section>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,eAAe,SAASC,aAAaA,CAAC;EAAEC,KAAK;EAAEC,QAAQ;EAAEC,MAAM;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAC3E,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAMW,KAAK,GAAGA,CAAA,KAAMD,WAAW,CAAC,IAAI,CAAC;EACrC,MAAME,IAAI,GAAIA,CAAA,KAAMF,WAAW,CAAC,KAAK,CAAC;EAEtC,MAAMG,QAAQ,GAAIC,KAAK,IAAK;IAC1B,MAAMC,GAAG,GAAGC,KAAK,CAACC,IAAI,CAACH,KAAK,IAAI,EAAE,CAAC;IACnC,MAAMI,IAAI,GAAGH,GAAG,CAACI,GAAG,CAACC,CAAC,KAAK;MAAEC,IAAI,EAAC,MAAM;MAAEC,IAAI,EAACF,CAAC;MAAEG,GAAG,EAACC,GAAG,CAACC,eAAe,CAACL,CAAC;IAAE,CAAC,CAAC,CAAC;IAChFf,QAAQ,CAACqB,CAAC,KAAK;MAAE,GAAGA,CAAC;MAAEC,MAAM,EAAE,CAAC,GAAGD,CAAC,CAACC,MAAM,EAAE,GAAGT,IAAI;IAAE,CAAC,CAAC,CAAC;EAC3D,CAAC;EAED,oBACEhB,OAAA;IAAS0B,SAAS,EAAC,MAAM;IAAAC,QAAA,gBACvB3B,OAAA;MAAA2B,QAAA,EAAI;IAAc;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACvB/B,OAAA;MAAK0B,SAAS,EAAC,MAAM;MAAAC,QAAA,EAAC;IAA4B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACxD/B,OAAA;MAAK0B,SAAS,EAAC,MAAM;MAAAC,QAAA,gBACnB3B,OAAA;QAAK0B,SAAS,EAAC,OAAO;QAAAC,QAAA,EAAC;MAAS;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACtC/B,OAAA;QAAK0B,SAAS,EAAC,WAAW;QAAAC,QAAA,GAAC,gBAAI,EAACpB,QAAQ,GAAG,KAAK,GAAG,KAAK;MAAA;QAAAqB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5D,CAAC,eACN/B,OAAA;MAAK0B,SAAS,EAAC,KAAK;MAACM,KAAK,EAAE;QAAEC,SAAS,EAAE;MAAG,CAAE;MAAAN,QAAA,gBAC5C3B,OAAA;QAAQ0B,SAAS,EAAC,KAAK;QAACQ,OAAO,EAAEzB,KAAM;QAAC0B,QAAQ,EAAE5B,QAAS;QAAAoB,QAAA,EAAC;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACvE/B,OAAA;QAAQ0B,SAAS,EAAC,KAAK;QAACQ,OAAO,EAAExB,IAAK;QAAEyB,QAAQ,EAAE,CAAC5B,QAAS;QAAAoB,QAAA,EAAC;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACxE/B,OAAA;QAAOgC,KAAK,EAAE;UAAEI,UAAU,EAAE;QAAO,CAAE;QAAAT,QAAA,GAAC,kDAEpC,eAAA3B,OAAA;UAAOmB,IAAI,EAAC,MAAM;UAACkB,MAAM,EAAC,SAAS;UAACC,QAAQ;UAC1CC,QAAQ,EAAGC,CAAC,IAAK7B,QAAQ,CAAC6B,CAAC,CAACC,MAAM,CAAC7B,KAAK,CAAE;UAACoB,KAAK,EAAE;YAAEU,OAAO,EAAE,OAAO;YAAET,SAAS,EAAE;UAAE;QAAE;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eACN/B,OAAA;MAAK0B,SAAS,EAAC,SAAS;MAAAC,QAAA,EACrBzB,KAAK,CAACuB,MAAM,CAACR,GAAG,CAAC,CAAC0B,GAAG,EAAEC,CAAC,kBAAM5C,OAAA;QAAa6C,GAAG,EAAEF,GAAG,CAACtB,GAAG,IAAIsB,GAAI;QAACG,GAAG,EAAC;MAAS,GAArCF,CAAC;QAAAhB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAsC,CAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChF,CAAC,eACN/B,OAAA;MAAK0B,SAAS,EAAC,KAAK;MAACM,KAAK,EAAE;QAAEC,SAAS,EAAE;MAAG,CAAE;MAAAN,QAAA,gBAC5C3B,OAAA;QAAQ0B,SAAS,EAAC,KAAK;QAACQ,OAAO,EAAE9B,MAAO;QAAAuB,QAAA,EAAC;MAAS;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAC3D/B,OAAA;QAAQ0B,SAAS,EAAC,aAAa;QAACQ,OAAO,EAAE7B,QAAS;QAAAsB,QAAA,EAAC;MAAO;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEd;AAACzB,EAAA,CArCuBL,aAAa;AAAA8C,EAAA,GAAb9C,aAAa;AAAA,IAAA8C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}